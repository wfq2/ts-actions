name: Test
on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: "24"
          cache: npm
      - name: Install dependencies
        run: npm ci
      - name: Run tests
        run: npm run test
      - name: Run TypeScript function
        run: >-
          // Enhanced error handling with source map support

          const originalError = Error;

          Error.prepareStackTrace = function(error, stack) {
            // Try to map stack traces back to original source
            return stack.map(frame => {
              const fileName = frame.getFileName();
              const lineNumber = frame.getLineNumber();
              const columnNumber = frame.getColumnNumber();
              const functionName = frame.getFunctionName();
              
              // Provide clear error context
              return `    at ${functionName || '<anonymous>'} (${fileName}:${lineNumber}:${columnNumber})`;
            }).join('\n');
          };


          try {
            
            // Error handling wrapper
            const originalConsoleError = console.error;
            console.error = function(...args) {
              originalConsoleError.apply(console, args);
            };
            
            // .github/workflows-src/test.ts
            var test_default = /* @__PURE__ */ function() {
              (job) => job.runsOn("ubuntu-latest").addStep(setupAndInstallNode).addStep((step) => step.name("Run tests").run("npm run test")).addStep((step) => step.name("Run TypeScript function").runTypeScript(() => console.log("Hello, world!")));
            }();
            export {
              test_default as default
            };
            //# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLmdpdGh1Yi93b3JrZmxvd3Mtc3JjL3Rlc3QudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIlxuXG5cbihqb2IpID0+IGpvYlxuICAgIC5ydW5zT24oXCJ1YnVudHUtbGF0ZXN0XCIpXG4gICAgLmFkZFN0ZXAoc2V0dXBBbmRJbnN0YWxsTm9kZSlcbiAgICAuYWRkU3RlcCgoc3RlcCkgPT4gc3RlcC5uYW1lKFwiUnVuIHRlc3RzXCIpLnJ1bihcIm5wbSBydW4gdGVzdFwiKSlcbiAgICAuYWRkU3RlcCgoc3RlcCkgPT4gc3RlcC5uYW1lKFwiUnVuIFR5cGVTY3JpcHQgZnVuY3Rpb25cIikucnVuVHlwZVNjcmlwdCgoKSA9PiBjb25zb2xlLmxvZyhcIkhlbGxvLCB3b3JsZCFcIikpKVxuXG4vLyBFeHBvcnQgZm9yIGV4ZWN1dGlvblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uKCkgeyAoam9iKSA9PiBqb2JcbiAgICAucnVuc09uKFwidWJ1bnR1LWxhdGVzdFwiKVxuICAgIC5hZGRTdGVwKHNldHVwQW5kSW5zdGFsbE5vZGUpXG4gICAgLmFkZFN0ZXAoKHN0ZXApID0+IHN0ZXAubmFtZShcIlJ1biB0ZXN0c1wiKS5ydW4oXCJucG0gcnVuIHRlc3RcIikpXG4gICAgLmFkZFN0ZXAoKHN0ZXApID0+IHN0ZXAubmFtZShcIlJ1biBUeXBlU2NyaXB0IGZ1bmN0aW9uXCIpLnJ1blR5cGVTY3JpcHQoKCkgPT4gY29uc29sZS5sb2coXCJIZWxsbywgd29ybGQhXCIpKSkgfSkoKTtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7QUFVQSxJQUFPLGVBQVMsMkJBQVc7QUFBRSxHQUFDLFFBQVEsSUFDakMsT0FBTyxlQUFlLEVBQ3RCLFFBQVEsbUJBQW1CLEVBQzNCLFFBQVEsQ0FBQyxTQUFTLEtBQUssS0FBSyxXQUFXLEVBQUUsSUFBSSxjQUFjLENBQUMsRUFDNUQsUUFBUSxDQUFDLFNBQVMsS0FBSyxLQUFLLHlCQUF5QixFQUFFLGNBQWMsTUFBTSxRQUFRLElBQUksZUFBZSxDQUFDLENBQUM7QUFBRSxFQUFHOyIsCiAgIm5hbWVzIjogW10KfQo=
            
            
            // Execute the function
            (async () => {
              try {
                const result = await ((function() { return // Error handling wrapper
            const originalConsoleError = console.error;
            console.error = function(...args) {
              originalConsoleError.apply(console, args);
            };
            
            // .github/workflows-src/test.ts
            var test_default = /* @__PURE__ */ function() {
              (job) => job.runsOn("ubuntu-latest").addStep(setupAndInstallNode).addStep((step) => step.name("Run tests").run("npm run test")).addStep((step) => step.name("Run TypeScript function").runTypeScript(() => console.log("Hello, world!")));
            }();
            export {
              test_default as default
            };
            //# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLmdpdGh1Yi93b3JrZmxvd3Mtc3JjL3Rlc3QudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIlxuXG5cbihqb2IpID0+IGpvYlxuICAgIC5ydW5zT24oXCJ1YnVudHUtbGF0ZXN0XCIpXG4gICAgLmFkZFN0ZXAoc2V0dXBBbmRJbnN0YWxsTm9kZSlcbiAgICAuYWRkU3RlcCgoc3RlcCkgPT4gc3RlcC5uYW1lKFwiUnVuIHRlc3RzXCIpLnJ1bihcIm5wbSBydW4gdGVzdFwiKSlcbiAgICAuYWRkU3RlcCgoc3RlcCkgPT4gc3RlcC5uYW1lKFwiUnVuIFR5cGVTY3JpcHQgZnVuY3Rpb25cIikucnVuVHlwZVNjcmlwdCgoKSA9PiBjb25zb2xlLmxvZyhcIkhlbGxvLCB3b3JsZCFcIikpKVxuXG4vLyBFeHBvcnQgZm9yIGV4ZWN1dGlvblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uKCkgeyAoam9iKSA9PiBqb2JcbiAgICAucnVuc09uKFwidWJ1bnR1LWxhdGVzdFwiKVxuICAgIC5hZGRTdGVwKHNldHVwQW5kSW5zdGFsbE5vZGUpXG4gICAgLmFkZFN0ZXAoKHN0ZXApID0+IHN0ZXAubmFtZShcIlJ1biB0ZXN0c1wiKS5ydW4oXCJucG0gcnVuIHRlc3RcIikpXG4gICAgLmFkZFN0ZXAoKHN0ZXApID0+IHN0ZXAubmFtZShcIlJ1biBUeXBlU2NyaXB0IGZ1bmN0aW9uXCIpLnJ1blR5cGVTY3JpcHQoKCkgPT4gY29uc29sZS5sb2coXCJIZWxsbywgd29ybGQhXCIpKSkgfSkoKTtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7QUFVQSxJQUFPLGVBQVMsMkJBQVc7QUFBRSxHQUFDLFFBQVEsSUFDakMsT0FBTyxlQUFlLEVBQ3RCLFFBQVEsbUJBQW1CLEVBQzNCLFFBQVEsQ0FBQyxTQUFTLEtBQUssS0FBSyxXQUFXLEVBQUUsSUFBSSxjQUFjLENBQUMsRUFDNUQsUUFBUSxDQUFDLFNBQVMsS0FBSyxLQUFLLHlCQUF5QixFQUFFLGNBQWMsTUFBTSxRQUFRLElBQUksZUFBZSxDQUFDLENBQUM7QUFBRSxFQUFHOyIsCiAgIm5hbWVzIjogW10KfQo=
            ; })()());
                if (result !== undefined) {
                  console.log(result);
                }
                process.exit(0);
              } catch (error) {
                console.error("Error executing function:", error);
                if (error instanceof Error) {
                  console.error("Stack trace:", error.stack);
                }
                process.exit(1);
              }
            })();

            
          } catch (error) {
            console.error("Error in TypeScript function:", error.message);
            if (error.stack) {
              console.error("Stack trace:");
              console.error(error.stack);
            }
            process.exit(1);
          }
